var express = require('express');
var path = require('path');

var favicon = require('serve-favicon');

var logger = require('morgan');

var cookieParser = require('cookie-parser');

var mongoose = require('mongoose');

var bodyParser = require('body-parser');
var dbConfig = require('./db/harish.js');




var db = mongoose.connection;

var app = express();
mongoose.connect(url)
mongoose.connect('dbConfig.url');


db.on('error', function(){
console.log("Error connecting to Database");	
});


db.on('open',function(){	
console.log("Database Connected");	
});


app.use(bodyParser.urlencoded({extended:true}));
app.use(bodyParser.json());
app.use(express.static(__dirname,{ index: 'second.html'
})); 
app.post('/user', function(req, res){
        response = {
            first_name : req.body.first_name,
            last_name : req.body.last_name,
            gender: req.body.gender
            };
            console.log(response);
        });

var server = app.listen(1277, function(){
           var host = server.address().address;
           var port = server.address().port;
           console.log("Example app listening at http://localhost:1277", host, port);
    });
